<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./catalogo.css" />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;600;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Literata:wght@400&display=swap"
    />
</head>
<body>
    <div class="canvas">
      <!-- Contenedor para la barra de navegación -->
      <div id="barra"></div>

      <!-- Sección: Agregados Recientemente -->
      <div class="recent-items">
        <h2>Agregados Recientemente</h2>
        <div class="product-grid">
          <div class="product-list">
            <% recientes.forEach(function(producto) { %>
              <a href="/producto?id=<%= producto.producto_id %>" class="product-link">
                <div class="product-card">
                  <img src="<%= producto.imagePath %>" alt="<%= producto.nombre %>" class="product-image">
                  <div class="product-details">
                    <h3 class="product-title"><%= producto.nombre %></h3>
                    <p class="product-sku">SKU <%= producto.codigo %></p>
                    <div class="product-price">
                      <p class="discounted-price">$<%= producto.precio %></p>
                    </div>
                  </div>
                </div>
              </a>
            <% }); %>
          </div>
        </div>
      </div>
      <!-- Fin de la sección -->

      <script>
        // Función para cargar la barra de navegación
        window.onload = function () {
          fetch("/Templates/barra.html")
            .then((response) => response.text())
            .then((data) => {
              document.getElementById("barra").innerHTML = data;
            })
            .catch((error) => console.error("Error al cargar la barra:", error));
        };
      </script>
    </div>
</body>
</html>
