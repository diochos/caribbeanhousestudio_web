<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./about-us.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Josefin Sans:wght@400;600;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,700;1,600&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Literata:wght@400&display=swap"
    />
  </head>
  <body>
    <div id="barra"></div>
    
    <div class="aboutus">
      <div class="canvas"></div>
      <img
        class="imagenportada-icon"
        alt=""
        src="./public/imagenportada@2x.png"
      />

      <img class="fondo-icon1" alt="" src="./public/fondo@2x.png" />

     
      <img class="imagen4-icon" alt="" src="./public/imagen4@2x.png" />

      <div class="aboutus-child"></div>
      <img class="imagen3-icon" alt="" src="./public/imagen3@2x.png" />

      <div class="la-familia-de-container">
        <p class="la-familia-de">
          La familia de Playa Caribbean House se inicio con el crecimiento
          vertiginoso de Playa del Carmen que desde el 2000
        </p>
        <p class="la-familia-de">&nbsp;</p>
        <p class="la-familia-de">
          Iniciando sus operaciones con modelos clásicos rústicos prefabricados
        </p>
        <p class="la-familia-de">
          Cambiando poco a poco a la modalidad de fabrica sobre diseño - a
          medida
        </p>
        <p class="la-familia-de">&nbsp;</p>
        <p class="la-familia-de">
          Hoy la actividad de ambientar las casas caribeñas no solo abarca el
          mercado de extranjeros, si no lindas familias mexicanas con
          especificaciones para sus espacios, ya sea en estilos, colores y
          texturas. Nos encanta ser parte del estilo de vida de todo tipo de
          gustos, y necesidades.
        </p>
      </div>
      <div class="nuestra-historia2">Nuestra Historia</div>
      <div class="aboutus-item"></div>
      <div class="opiniones">Opiniones</div>
      <div class="detalles-cuidadosamente-consid">
        <p class="la-familia-de">Detalles</p>
        <p class="la-familia-de">cuidadosamente</p>
        <p class="la-familia-de">considerados y</p>
        <p class="la-familia-de">combinación</p>
        <p class="la-familia-de">de belleza</p>
      </div>
      <div class="lorem-ipsum-dolor3">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.
      </div>
      <div class="explorarmasbutt">
        <div class="explorar-mas">Explorar Mas</div>
      </div>
      <div class="professional-team">
        <p class="la-familia-de">Professional</p>
        <p class="la-familia-de">Team</p>
      </div>
      <div class="lorem-ipsum-dolor4">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.
      </div>
      <div class="repeat-grid-2">
        <div class="div14">
          <div class="caribbean-house-made">
            Caribbean House made a beautiful custom sofa for me with material I
            supplied. Fabulous workmanship and quality - it’s the most
            comfortable piece of furniture i’ve ever had! Thank you so much!!
          </div>
          <i class="leslie-kelleher">- Leslie Kelleher</i>
        </div>
        <div class="div15">
          <div class="caribbean-house-made">
            <p class="la-familia-de">
              Beautiful Bed and Armoire, great craftsmanship and attention to
              details. I love the way the bedroom looks now. Great Job! Thank
              you.
            </p>
            <p class="la-familia-de">
              <i class="i">&nbsp;</i>
            </p>
            <i class="i"> </i>
          </div>
          <i class="michelle-williams">- Michelle Williams</i>
        </div>
        <div class="div16">
          <div class="caribbean-house-made">
            <p class="la-familia-de">
              Beautiful Bed and Armoire, great craftsmanship and attention to
              details. I love the way the bedroom looks now. Great Job! Thank
              you.
            </p>
            <p class="la-familia-de">
              <i class="i">&nbsp;</i>
            </p>
            <i class="i"> </i>
          </div>
          <i class="michelle-williams">- Maria Elisa Rendon</i>
        </div>
        
     
      </div>
      <div id="footer" style="position: relative; z-index: 3; top: 3100px;"></div>


      

      
    
    <script>
      

      
    window.onload = function () {
      let claseAResaltar = "vacio";

      // Cargar barra.html dinámicamente
      fetch("/Templates/barra.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("barra").innerHTML = data;

          // Aplicar el estilo para el elemento resaltado
          let elementoAResaltar = document.querySelector(`.${claseAResaltar}`);
          if (elementoAResaltar) {
            elementoAResaltar.style.fontWeight = "bold";
            elementoAResaltar.style.color = "var(--color-lightseagreen)";
          }

          // Por defecto, el login-wrapper3 redirige a /login
          const loginWrapper = document.querySelector("#login-wrapper3");
          const loginText = document.querySelector(".login5"); // El texto dentro del botón

          // Asegúrate de seleccionar cartContainer DESPUÉS de que se cargue la barra
          const cartContainer = document.getElementById("cart-container");

          if (loginWrapper) {
            loginWrapper.onclick = function () {
              window.location.href = "/login";
            }; // Redirige a /login por defecto
          }

          // Verificar la sesión para modificar el botón de login/logout si es necesario
          fetch("/api/session")
            .then((response) => response.json())
            .then((data) => {
              console.log("Sesión obtenida:", data);

              if (data.isAuthenticated) {
                // Cambiamos el color del contenedor (wrapper) a rojo chukum
                loginWrapper.setAttribute(
                  "style",
                  "background-color: #C19A6B; top: -10;"
                );

                // Cambiamos el texto a "Mi Perfil"
                loginText.textContent = "Mi Perfil";

                // Cambiamos la acción a ir al perfil
                loginWrapper.onclick = function () {
                  window.location.href = "/perfil";
                };

                // Hacer visible el cartContainer
                if (cartContainer) {
                  cartContainer.style.display = "flex"; // O 'block', según el diseño
                } else {
                  console.warn("cart-container no encontrado en el DOM");
                }

                console.log("Sesión iniciada. Usuario:", data.correo);
              } else {
                console.log("No hay sesión iniciada.");
                // Ocultar el cartContainer si no está autenticado
                if (cartContainer) {
                  cartContainer.style.display = "none";
                }
              }
            })
            .catch((error) => console.error("Error al cargar la sesión:", error));
        })
        .catch((error) => console.error("Error al cargar la barra:", error));

      // Cargar el footer.html dinámicamente
      fetch("/Templates/footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer").innerHTML = data;
        })
        .catch((error) => console.error("Error al cargar el footer:", error));
    };


      var logo = document.getElementById("logo");
      if (logo) {
        logo.addEventListener("click", function (e) {
          window.location.href = "/";
        });
      }

      function toggleMenu() {
        const menu = document.querySelector('.menu-container');
        menu.classList.toggle('active'); // Activa o desactiva el menú
      }

      function hideSidebar() {
        const menu = document.querySelector('.menu-container');
        menu.classList.remove('active'); // Oculta el menú
      }
      </script>
  </body>
</html>
